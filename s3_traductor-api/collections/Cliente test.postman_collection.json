{
	"info": {
		"_postman_id": "97be34e4-bd4e-46d3-a9d5-e32dc26a3a12",
		"name": "Cliente test",
		"description": "Coleccion de pruebas sobre el recurso Author",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Cliente",
			"item": [
				{
					"name": "Crear un cliente",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b132ce6f-76c4-468e-bf75-b73c58e5520e",
								"type": "text/javascript",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"postman.setGlobalVariable(\"new_id_o\",data.id);",
									"tests[\"no genera error en el Post\"] = responseCode.code === 200;",
									"console.log(data.id);",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"nombreUsuario\":\"pepito123\",\n\t\"contrasenia\":\"pepE\",\n\t\"correoElectronico\":\"pepe@fake.com\",\n\t\"nombre\":\"pedro payares\",\n\t\"identificacion\":\"12346572\",\n\t\"tipoCliente\":\"PERSONA_NATURAL\"\n}"
						},
						"url": {
							"raw": "http://{{ip}}:{{puerto}}/s3_traductor-api/api/clientes",
							"protocol": "http",
							"host": [
								"{{ip}}"
							],
							"port": "{{puerto}}",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes"
							]
						},
						"description": "Se crean un nuevo cliente con el JSON ingresado.\nSe retorna el mismo JSON pero con el id generado por la base de datos.\nLos atributos de nombreUsuario, correoElectronico e identificacion deben ser únicos.\n\n**Código Http esperado: 200**"
					},
					"response": []
				},
				{
					"name": "Crear un cliente 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6967c244-d97e-4b6d-acf5-ca48044307ba",
								"type": "text/javascript",
								"exec": [
									"var data = JSON.parse(responseBody);",
									"postman.setGlobalVariable(\"new_id_o2\",data.id);",
									"tests[\"no genera error en el Post\"] = responseCode.code === 200;",
									"console.log(data.id);",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"nombreUsuario\":\"salitoLOL\",\n\t\"contrasenia\":\"sasabestpass\",\n\t\"correoElectronico\":\"salito@me.com\",\n\t\"nombre\":\"Santiago Salazar\",\n\t\"identificacion\":\"44325232\",\n\t\"tipoCliente\":\"PERSONA_NATURAL\"\n}"
						},
						"url": {
							"raw": "http://{{ip}}:{{puerto}}/s3_traductor-api/api/clientes",
							"protocol": "http",
							"host": [
								"{{ip}}"
							],
							"port": "{{puerto}}",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes"
							]
						},
						"description": "Se crean un nuevo cliente con el JSON ingresado.\nSe retorna el mismo JSON pero con el id generado por la base de datos.\nLos atributos de nombreUsuario, correoElectronico e identificacion deben ser únicos.\n\n**Código Http esperado: 200**"
					},
					"response": []
				},
				{
					"name": "Crear un cliente con mismo nombreUsuario",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f5fe76b9-bdac-4b20-b69e-d6282e51300a",
								"type": "text/javascript",
								"exec": [
									"tests[\"No crea con el mismo nombre de usuario\"] = responseCode.code === 412;",
									"tests[\"Mensaje correcto de error\"] = responseBody.has(\"Ya existe un cliente con el nombre de usuario \\\"pepito123\\\"\");"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"nombreUsuario\":\"pepito123\",\n\t\"contrasenia\":\"fffasf\",\n\t\"correoElectronico\":\"new@fake.com\",\n\t\"nombre\":\"pedro manito\",\n\t\"identificacion\":\"003523515\",\n\t\"tipoCliente\":\"PERSONA_NATURAL\"\n}"
						},
						"url": {
							"raw": "http://{{ip}}:{{puerto}}/s3_traductor-api/api/clientes",
							"protocol": "http",
							"host": [
								"{{ip}}"
							],
							"port": "{{puerto}}",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes"
							]
						},
						"description": "Intenta crear un cliente con el mismo nombre de usuario que uno ya existente, por lo que debe fallat el test.\n\n**Código Http esperado: 412**"
					},
					"response": []
				},
				{
					"name": "Crear un clente con mismo correoElectronico",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0ba59e59-06e3-4d85-8dd0-3d1b9540cc71",
								"type": "text/javascript",
								"exec": [
									"tests[\"No crea con el mismo correo\"] = responseCode.code === 412;",
									"tests[\"Mensaje correcto de error\"] = responseBody.has(\"Ya existe un cliente con el correo electronico \\\"pepe@fake.com\\\"\");"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"nombreUsuario\":\"manito123\",\n\t\"contrasenia\":\"bestpass123\",\n\t\"correoElectronico\":\"pepe@fake.com\",\n\t\"nombre\":\"el manito nuevo\",\n\t\"identificacion\":\"523526242\",\n\t\"tipoCliente\":\"PERSONA_NATURAL\"\n}"
						},
						"url": {
							"raw": "http://{{ip}}:{{puerto}}/s3_traductor-api/api/clientes",
							"protocol": "http",
							"host": [
								"{{ip}}"
							],
							"port": "{{puerto}}",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes"
							]
						},
						"description": "Intenta crear un cliente nuevo con un correo electrónico ya existente, por loq ue debe fallar.\n\n**Código Http esperado: 412**"
					},
					"response": []
				},
				{
					"name": "retornar los clientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"id\":\"01051354\",\"nombreUsuario\":\"pepito\",\"contrasenia\":\"pepito123\",\"correoElectronico\":\"pepito@fake.com\",\"nombre\":\"Pedro\",\"identificacion\":\"10263495\",\"tipoCliente\":\"PERSONA_NATURAL\"}"
						},
						"url": {
							"raw": "http://localhost:8080/s3_traductor-api/api/clientes",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes"
							]
						},
						"description": "Se encarga de retornar todos los clientes de la aplicacion"
					},
					"response": []
				},
				{
					"name": "retornar cliente con id",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8080/s3_traductor-api/api/clientes/id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes",
								"id"
							]
						},
						"description": "Retorna el cliente que tiene el id indicado en el parametro"
					},
					"response": []
				},
				{
					"name": "borrar cliente con id especificado",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://localhost:8080/s3_traductor-api/api/clientes/id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes",
								"id"
							]
						},
						"description": "Borra de la aplicacion al cliente con el id especificado"
					},
					"response": []
				},
				{
					"name": "actualizar info cliente",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"nombreUsuario\":\"pepito123\",\"contrasenia\":\"pepE\",\"correo\":\"pepe@fake.com\",\"nombre\":\"pedro\",\"identificacion\":\"12346572\"}"
						},
						"url": {
							"raw": "http://localhost:8080/s3_traductor-api/api/clientes/id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"s3_traductor-api",
								"api",
								"clientes",
								"id"
							]
						},
						"description": "Se encarga de actualizar la informacion de un cliente, a partir de su id"
					},
					"response": []
				}
			],
			"description": "Pruebas para el funcionamiento de los servicios de cliente"
		}
	]
}